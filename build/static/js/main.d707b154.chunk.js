(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,n,t){e.exports=t(284)},183:function(e,n,t){},284:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(9),l=t.n(o),i=(t(183),t(291)),c=t(293),u=t(292),d=t(27),m=t(173),s=t(19),f=function(){return r.a.createElement("div",null,"Child")},h=t(15),p=t(290),v=t(288),y=t(153),b=t(26),g=t.n(b);function E(){var e=Object(h.a)(['\n    query {\n\t    user(where: {\n            id: "cjntestdudeug0a54rjlfk74x"\n        }) {\n            firstName\n            lastName\n            children {\n                id\n                firstName\n                rateAmount\n                dates {\n                    id\n                    month\n                    day\n                    year\n                    hours\n                    paid\n                    dateObjectId\n                }\n            }\n        }\n    }\n']);return E=function(){return e},e}var O=g()(E()),w=t(287);function j(){var e=Object(h.a)(["\n  display: flex;\n  align-items: flex-start;\n  height: 100%;\n  >span, h1 {\n    font-size: 20px;\n  }\n  > span {\n    margin-right: .25rem;\n  }\n"]);return j=function(){return e},e}function k(){var e=Object(h.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    border-bottom: 1px solid #e4e9ee;\n    background-color: #fff;\n    box-shadow: 0 0 25px 0 hsla(0, 0%, 79%, .35);\n    font-size: 1.125rem;\n"]);return k=function(){return e},e}var N=p.a.Header,M=Object(s.a)(N)(k()),D=Object(s.a)(w.a)(j()),C=function(){return r.a.createElement(M,null,r.a.createElement(D,{to:"/"},r.a.createElement("span",{role:"img","aria-label":"baby"},"\ud83d\udc76"),r.a.createElement("h1",null,"Sitter Sheet")),r.a.createElement(w.a,{to:"/my-profile"},r.a.createElement(v.a,{icon:"user"})))};function x(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return x=function(){return e},e}function $(){var e=Object(h.a)(["\n    display: flex;\n    align-items: center;\n"]);return $=function(){return e},e}var I=s.a.div($()),S=function(e){var n=e.children;return r.a.createElement(I,null,n)};s.a.div(x());function F(){var e=Object(h.a)(["\n    margin: 0 0 0 .5rem;\n"]);return F=function(){return e},e}function Y(){var e=Object(h.a)(["\n  padding: 2rem 3rem;\n"]);return Y=function(){return e},e}var A=s.a.div(Y()),W=s.a.h2(F()),T={labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:[65,59,80,81,56,55,40]},{label:"My Second dataset",fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,0.8)",highlightFill:"rgba(151,187,205,0.75)",highlightStroke:"rgba(151,187,205,1)",data:[28,48,40,19,86,27,90]}]},L=function(){return r.a.createElement(p.a,null,r.a.createElement(C,null),r.a.createElement(p.a,null,r.a.createElement(d.Query,{query:O},function(e){return e.loading?r.a.createElement(A,null,"Loading..."):e.data&&e.data.user&&e.data.user.children?r.a.createElement(A,null,r.a.createElement(S,null,r.a.createElement(v.a,{icon:"user"}),r.a.createElement(W,null,"Brendan Scarano")),r.a.createElement("h3",null,"2018 Total:"," ",r.a.createElement("b",null,"$25,845")),r.a.createElement(y.Bar,{data:T,width:"600",height:"250"})):r.a.createElement("div",null,"Something went wrong")})))},q=t(42);function B(){var e=Object(h.a)(["\n    mutation CreateChild(\n    $firstName: String!,\n    $lastName: String!,\n    # $birthday: DateTime,\n    $rateAmount: Float!,\n    $gender: Gender!,\n    $ownerId: ID!,\n) {\n  createChild(data: {\n    firstName: $firstName,\n    lastName: $lastName,\n    rateAmount: $rateAmount,\n    gender: $gender,\n    owner: {\n      connect: {\n        id: $ownerId\n      }\n    }\n  }) {\n    firstName\n    lastName\n  }\n}\n"]);return B=function(){return e},e}var J=g()(B());function V(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n"]);return V=function(){return e},e}function P(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n"]);return P=function(){return e},e}function Q(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n    width: 100%;\n    margin: 2rem 0;\n"]);return Q=function(){return e},e}var R=Object(s.a)(p.a)(Q()),U=Object(s.a)(q.c)(P()),z=s.a.div(V()),G=function(){return r.a.createElement(d.Mutation,{mutation:J},function(e,n){return r.a.createElement(p.a,null,r.a.createElement(C,null),r.a.createElement(R,null,r.a.createElement("h1",null,"New Child"),r.a.createElement(q.d,{initialValues:{firstName:"",lastName:"",gender:null},validate:function(e){var n={};return e.firstName||(n.firstName="Required"),n},onSubmit:function(n,t){console.log("props",t),console.log("values",n),e({variables:{firstName:n.firstName,lastName:n.lastName,gender:n.gender,rateAmount:7,ownerId:"cjntestdudeug0a54rjlfk74x"}})}},function(e){var n=e.isSubmitting;return r.a.createElement(U,null,r.a.createElement("label",{htmlFor:"firstName"},"First Name:"),r.a.createElement(q.b,{type:"text",id:"firstName",name:"firstName"}),r.a.createElement(q.a,{name:"firstName",component:"div"}),r.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),r.a.createElement(q.b,{type:"text",id:"lastName",name:"lastName"}),r.a.createElement(q.a,{name:"lastName",component:"div"}),r.a.createElement(z,null,r.a.createElement(q.b,{type:"radio",name:"gender",id:"boy",value:"MALE"}),r.a.createElement("label",{htmlFor:"boy"},"Boy"),r.a.createElement(q.b,{type:"radio",name:"gender",id:"girl",value:"FEMALE"}),r.a.createElement("label",{htmlFor:"girl"},"Girl")),r.a.createElement("button",{type:"submit",disabled:n},"Add"))})))})},H=t(157),K=t(158),X=t(175),Z=t(159),_=t(176),ee=t(10),ne=t.n(ee),te=t(160),ae=t.n(te);t(265);function re(){var e=Object(h.a)(["\n  .sticky-top-first-row {\n    position: sticky;\n    top: 0;\n  }\n  .sticky-top-second-row {\n    position: sticky;\n    top: 20px;\n  }\n  .sticky-top-third-row {\n    position: sticky;\n    top: 40px;\n  }\n"]);return re=function(){return e},e}var oe=s.a.div(re()),le=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),ie=function(e){var n=e.data,t=e.onCellsChanged;return r.a.createElement(oe,null,r.a.createElement(ae.a,{data:n,valueRenderer:function(e){return"curr"===e.format?le.format(e.value):e.value},onCellsChanged:function(e){return t(e)}}))},ce=t(289).a.MonthPicker,ue=["\u2744\ufe0f","\ud83d\udc8c","\ud83c\udf40","\ud83c\udf27","\ud83c\udf3b","\u270f\ufe0f","\ud83c\udf87","\u2600\ufe0f","\ud83c\udfeb","\ud83c\udf83","\ud83e\udd83","\ud83c\udf84"],de=function(e){var n=e.onCalendarMonthClick;return r.a.createElement(ce,{format:"MMM YYYY",onChange:n,monthCellContentRender:function(e){return r.a.createElement("p",null,ue[ne()(e).format("M")-1]," ",ne()(e).format("MMM"))}})},me=t(62),se=t(45),fe=t(174),he=t(55),pe=t.n(he),ve=t(168),ye=t.n(ve),be=function(e,n){return e.reduce(function(e,t){var a=t.dates[n];return t.dates[n]?e+t.info.rate*a.hours:e+0},0)},ge={value:" ",readOnly:!0,id:"space"},Ee=["Day","Month","#","Total",""],Oe=["Hours per day","Paid/day","Notes"," "],we=function(e,n){var t=n.slice(-2),a=ye.a.create(n).calendarWeeks().map(function(n){var a=n[0].format("MM"),r=n[6].format("MM");if(a!==t&&r!==t)return[];var o=n.map(function(e){var n=ne()(e).format("ddd MMM MM DD YY MMDDYY").split(" "),t=Object(fe.a)(n,6);return{dayOfWeek:t[0],month:t[1],monthNumber:t[2],number:t[3],year:t[4],formattedDate:t[5]}}),l=o.map(function(e){return e.formattedDate}),i=o[o.length-1];return console.log("days",o),Object(se.a)(o).concat([{id:"week-ending-row",text:"WE ".concat(i.month," ").concat(i.number," Total"),value:function(e,n){return n.map(function(n){return be(e,n)}).reduce(function(e,n){return e+n},0)}(e,l)}])}),o=Ee.concat(Object(se.a)(pe()(e.map(function(){return Oe})))).map(function(e){return{value:e,readOnly:!0,className:"sticky-top-third-row"}});return[[Object(me.a)({},ge,{colSpan:4,className:"sticky-top-first-row"}),ge].concat(Object(se.a)(pe()(e.map(function(e){var n=e.info;return[{value:n.name,colSpan:3,readOnly:!0,valueViewer:function(){return r.a.createElement(w.a,{to:"/child/".concat(n.id)},r.a.createElement("span",{role:"img","aria-label":"child-emoji"},"MALE"===n.gender?"\ud83d\udc66 ":"\ud83d\udc67 "),n.name)},className:"sticky-top-first-row"}]})))),[Object(me.a)({},ge,{colSpan:4,className:"sticky-top-second-row"}),ge].concat(Object(se.a)(pe()(e.map(function(e){var n=e.info;return[{value:"$".concat(n.rate,"/hr"),colSpan:3,readOnly:!0,className:"sticky-top-second-row"},ge]})))),o].concat(Object(se.a)(pe()(a).map(function(n){return"week-ending-row"!==n.id?[{value:n.dayOfWeek,readOnly:!0,type:"dayOfWeek",className:"empty-cell"},{value:n.month,readOnly:!0,type:"month",className:"empty-cell"},{value:n.number,readOnly:!0,type:"dayOfMonth",className:"empty-cell"},{value:be(e,n.formattedDate),readOnly:!0,format:"curr"},ge].concat(Object(se.a)(pe()(e.map(function(e){var t=e.info,a=e.dates;return[{value:a[n.formattedDate]?a[n.formattedDate].hours:0,type:"hours",childId:t.id,day:n,savedDateInDb:a[n.formattedDate]},{value:a[n.formattedDate]?t.rate*a[n.formattedDate].hours:0,type:"paid",id:t.id,formattedDate:n.formattedDate,format:"curr",readOnly:!0},{value:a[n.formattedDate]?a[n.formattedDate].notes:"",type:"notes",id:t.id,formattedDate:n.formattedDate},ge]})))):[{value:n.text,colSpan:3,readOnly:!0},{value:n.value,readOnly:!0,format:"curr"},ge]})))};function je(){var e=Object(h.a)(["\n    mutation UpsertDate(\n        $dateId: ID,\n        $childId: ID!,\n        $month: Float!,\n        $day: Float!,\n        $year: Float!,\n        $hours: Float!,\n        $dayOfWeek: String!,\n        $dateObjectId: String!,\n    ) {\n        upsertDate(where: {\n            id: $dateId\n        }\n        create: {\n            owner: {\n                connect: {\n                    id: $childId\n                }\n            },\n            month: $month,\n            day: $day,\n            year: $year,\n            hours: $hours,\n            dayOfWeek: $dayOfWeek,\n            dateObjectId: $dateObjectId,\n        }\n        update: {\n            hours: $hours\n        }) {\n            id\n            dateObjectId\n        }\n    }\n"]);return je=function(){return e},e}function ke(){var e=Object(h.a)(['\n    query {\n\t    user(where: {\n            id: "cjntestdudeug0a54rjlfk74x"\n        }) {\n            firstName\n            lastName\n            children {\n                id\n                firstName\n                rateAmount\n                dates {\n                    id\n                    month\n                    day\n                    year\n                    hours\n                    paid\n                    dateObjectId\n                }\n            }\n        }\n    }\n']);return ke=function(){return e},e}var Ne=g()(ke()),Me=g()(je()),De=t(78);function Ce(){var e=Object(h.a)(["\n  padding: 2rem 3rem;\n  background-color: ",";\n"]);return Ce=function(){return e},e}var xe=p.a.Content,$e=Object(s.a)(xe)(Ce(),"#fff"),Ie=function(e){return r.a.createElement(d.Mutation,{mutation:Me,refetchQueries:function(){return[{query:Ne}]}},function(n){return r.a.createElement(Se,Object.assign({upsertDate:n},e))})},Se=function(e){function n(){var e,t;Object(H.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(X.a)(this,(e=Object(Z.a)(n)).call.apply(e,[this].concat(r)))).state={monthToView:ne()().format("YYYY-MM")},t.onCellsChanged=function(e){e.forEach(function(e){var n=e.cell.day,a=n.number,r=n.year,o=n.dayOfWeek,l=n.formattedDate,i=e.cell.savedDateInDb;t.props.upsertDate({variables:{dateId:i?i.dateId:"",childId:e.cell.childId,month:parseFloat(l.slice(0,2)),day:parseFloat(a),year:parseFloat(r),hours:parseFloat(e.value)||0,dayOfWeek:o,dateObjectId:l}})})},t.onCalendarMonthClick=function(e){var n=ne()(e).format("YYYY-MM");t.setState({monthToView:n})},t}return Object(_.a)(n,e),Object(K.a)(n,[{key:"componentDidMount",value:function(){console.log("this.props",this.props)}},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement(C,null),r.a.createElement(p.a,null,r.a.createElement(d.Query,{query:Ne},function(n){if(n.loading)return r.a.createElement("div",null,"Loading...");if(!n.data||!n.data.user||!n.data.user.children)return r.a.createElement("div",null,"Something went wrong");var t=function(e){return e.map(function(e){return{info:{id:e.id,name:e.firstName,rate:e.rateAmount},dates:e.dates.reduce(function(e,n){return Object(me.a)({},e,Object(De.a)({},n.dateObjectId,{dateId:n.id,dateObjectId:n.dateObjectId,hours:n.hours,paid:n.paid,notes:""}))},{})}})}(n.data.user.children);console.log("children",t);var a=we(t,e.state.monthToView);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement($e,null,r.a.createElement(de,{onCalendarMonthClick:e.onCalendarMonthClick}),r.a.createElement(ie,{data:a,onCellsChanged:e.onCellsChanged}))))})))}}]),n}(r.a.PureComponent),Fe=new m.a({uri:"https://us1.prisma.sh/brendan-f224bf/hello-world/dev"}),Ye=function(){return r.a.createElement(d.ApolloProvider,{client:Fe},r.a.createElement(i.a,null,r.a.createElement(c.a,null,r.a.createElement(u.a,{exact:!0,path:"/child/:id",component:f}),r.a.createElement(u.a,{exact:!0,path:"/new-child",component:G}),r.a.createElement(u.a,{exact:!0,path:"/my-profile",component:L}),r.a.createElement(u.a,{exact:!0,path:"/:date",component:Ie}),r.a.createElement(u.a,{exact:!0,path:"/",component:Ie}))))},Ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(Ye,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ae?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):We(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):We(e)})}}()}},[[178,2,1]]]);
//# sourceMappingURL=main.d707b154.chunk.js.map